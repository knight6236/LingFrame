# 灵珑 (LingFrame)

![Status](https://img.shields.io/badge/Status-Architecture_Design-orange)
![License](https://img.shields.io/badge/License-Apache_2.0-blue)
[![Help Wanted](https://img.shields.io/badge/PRs-welcome-brightgreen)](../../pulls)

> ⚠️ **项目状态：早期设计阶段**
>
> 本项目目前处于 **核心架构讨论与 RFC (Request For Comments)** 阶段，仓库中**尚无可运行代码**。
> 我们发布这份文档，旨在寻找志同道合的开发者，共同从零构建下一代 Java 插件化框架。

---

## 📖 愿景

**LingFrame** 是一个基于 JVM 的新一代微内核插件化框架。
我们致力于为现代 Java 应用构建一个**可控、可扩展、可演进**的运行时体系。

> **一句话愿景**：让 JVM 应用具备如同操作系统般的插件模型和可控能力。

---

## 🎯 我们要解决什么问题

当代 Java 应用在构建可扩展系统时，长期面临三个核心痛点：

| 痛点 | 现状困境 |
| :--- | :--- |
| **1. 扩展能力缺乏边界** | 扩展逻辑与系统内核高度耦合，难以独立演进，"牵一发而动全身"。 |
| **2. 缺乏安全仲裁** | 业务模块可直接操作数据库、线程池等基础设施，导致资源滥用与系统不可控。 |
| **3. 动态加载能力不足** | 模块往往只能在启动时加载，无法实现可靠的在线热插拔和无缝升级。 |

---

## 👤 目标用户

LingFrame 适用于以下场景和角色：

| 场景 | 典型需求 |
|------|----------|
| **可扩展产品** | 核心产品 + 功能插件模式，如 IDE、CMS、低代码平台 |
| **二次开发平台** | 提供标准内核，允许第三方开发者扩展功能 |
| **SaaS 多租户定制** | 不同租户启用不同功能模块，按需加载 |
| **插件市场/应用商店** | 用户可自行安装、卸载、升级功能模块 |
| **大型系统模块化改造** | 将单体应用拆分为可独立演进的插件 |

**如果你正在构建需要「动态扩展」或「第三方可开发」的 Java 应用，LingFrame 就是为你设计的。**

---

## 💡 核心理念：三层架构与控制边界

LingFrame 借鉴操作系统设计，将系统划分为三层，形成严格的控制边界：

```text
┌─────────────────────────────────────────────────────────┐
│                    Core（仲裁核心）                      │
│         生命周期管理 · 权限治理 · 能力调度 · 上下文隔离    │
└────────────────────────────┬────────────────────────────┘
                             ▼
┌─────────────────────────────────────────────────────────┐
│           Infrastructure Plugins（基础设施层）           │
│              存储 · 缓存 · 消息 · 搜索                   │
└────────────────────────────┬────────────────────────────┘
                             ▼
┌─────────────────────────────────────────────────────────┐
│             Business Plugins（业务层）                   │
│              用户中心 · 订单服务 · 支付模块               │
└─────────────────────────────────────────────────────────┘
````

**关键设计原则**：

1.  **Core 是唯一仲裁者**：不提供业务能力，只负责调度、隔离与权限控制。
2.  **业务插件“零信任”**：业务插件不得直接触碰基础设施（DB/Redis），所有能力调用必须经过 Core 代理与鉴权。
3.  **Spring 上下文隔离**：基于 Spring 父子上下文 (Parent-Child) 实现插件隔离，确保卸载后无残留。

-----

## 🆚 与现有方案的差异

| 特性 | OSGi | Java SPI | PF4J | LingFrame (目标) |
| :--- | :--- | :--- | :--- | :--- |
| **权限治理** | 有但复杂 | 无 | 无 | ✅ **核心特性** |
| **能力仲裁** | 服务注册 | 无 | 扩展点 | ✅ **Core 代理** |
| **Spring 集成** | 需适配 | 手动 | 需额外工作 | ✅ **原生父子上下文** |
| **热插拔** | ✅ | ❌ | ✅ | ✅ |
| **调用链审计** | 需扩展 | 无 | 无 | ✅ **内置支持** |
| **学习曲线** | 陡峭 | 平缓 | 中等 | **中等** |

-----

## 📍 当前状态与路线图

这是一个**从零开始**的项目，我们正处于**架构设计与讨论**阶段：

  - [x] 核心理念与分层模型
  - [x] 项目愿景与目标用户
  - [ ] 🔌 **插件元数据格式设计** (RFC 准备中)
  - [ ] 🛡️ **权限模型细节设计** (待讨论)
  - [ ] 🌱 **Spring 上下文集成方案** (待讨论)
  - [ ] 🏗️ **v0.1.0-alpha 原型开发** (计划中)

### 📅 初步里程碑

| 阶段 | 目标 | 状态 |
| :--- | :--- | :--- |
| **Phase 0** | **设计讨论**：确定核心 API、插件模型、权限机制 | 🔄 **进行中** |
| **v0.1.0** | **原型验证**：插件加载/卸载、基本生命周期管理 | ⏳ 计划中 |
| **v0.2.0** | **核心治理**：权限仲裁、能力调度实现 | ⏳ 计划中 |
| **v0.3.0** | **生态集成**：Spring Boot Starter 发布 | ⏳ 计划中 |

-----

## 👥 参与贡献

LingFrame 目前处于早期设计阶段，我们非常欢迎社区参与：

### 参与方式

1. **架构讨论**：对核心设计、API 命名、扩展点模型有任何想法？欢迎在 [Discussions](../../discussions) 发起话题
2. **原型开发**：如果你对 Spring Boot 3、Java 模块化有经验，欢迎参与 v0.1.0 的原型编码
3. **生态建议**：你希望看到什么样的插件？有哪些现有框架的痛点希望灵珑能解决？
4. **文档完善**：帮助我们改进文档、编写教程

### 贡献步骤

1. 在 [Issues](../../issues) 中查看或发布你感兴趣的任务
2. 在 [Discussions](../../discussions) 中参与架构讨论
3. Fork 本仓库，跟随路线图开始编码
4. 提交 Pull Request
5. ⭐ **Star** 本仓库，关注我们的每一步成长。

-----

## 📄 许可证

本项目采用 **Apache License 2.0** 授权协议。

**灵珑 (LingFrame) —— 从第一行设计开始，就与你共同成长。**
